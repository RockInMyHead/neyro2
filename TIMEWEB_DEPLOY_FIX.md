# üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å API URL'–∞–º–∏ –Ω–∞ TimeWeb

## üö® –ü—Ä–æ–±–ª–µ–º–∞
–ù–∞ TimeWeb —Å–µ—Ä–≤–µ—Ä–µ `http://194.87.226.56` —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –ø—ã—Ç–∞–ª—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ `localhost:8000`, —á—Ç–æ –≤—ã–∑—ã–≤–∞–ª–æ –æ—à–∏–±–∫–∏:
- `Preflight response is not successful. Status code: 400`
- `Fetch API cannot load http://localhost:8000/generate_dalle due to access control checks`

## ‚úÖ –†–µ—à–µ–Ω–∏–µ

### 1. –û–±–Ω–æ–≤–ª–µ–Ω—ã CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ backend
–í —Ñ–∞–π–ª–µ `app.py` –¥–æ–±–∞–≤–ª–µ–Ω –¥–æ–º–µ–Ω TimeWeb:
```python
app.add_middleware(
    CORSMiddleware,
    allow_origins=[
        "http://localhost:8000", 
        "http://127.0.0.1:8000", 
        "http://localhost:3000", 
        "http://127.0.0.1:3000",
        "http://194.87.226.56",      # ‚Üê –î–æ–±–∞–≤–ª–µ–Ω–æ
        "https://194.87.226.56"      # ‚Üê –î–æ–±–∞–≤–ª–µ–Ω–æ
    ],
    allow_credentials=True,
    allow_methods=["GET", "POST", "PUT", "DELETE", "OPTIONS", "PATCH"],
    allow_headers=["*"],
)
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω—ã API URL'—ã –≤ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
–í—Å–µ –≤—Ö–æ–∂–¥–µ–Ω–∏—è `localhost:8000` –∑–∞–º–µ–Ω–µ–Ω—ã –Ω–∞ `194.87.226.56` –≤ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞.

### 3. –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
`timeweb-deploy/update-frontend-urls.sh` - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç URL'—ã –≤ —Å–æ–±—Ä–∞–Ω–Ω–æ–º —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ.

## üöÄ –ö–∞–∫ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
```bash
cd timeweb-deploy
chmod +x update-frontend-urls.sh
./update-frontend-urls.sh
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –í—Ä—É—á–Ω—É—é
1. –û–±–Ω–æ–≤–∏—Ç–µ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `app.py`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è URL'–æ–≤
3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend —Å–µ—Ä–≤–µ—Ä

## üìÅ –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å
- ‚úÖ `app.py` - –æ–±–Ω–æ–≤–ª–µ–Ω—ã CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ `timeweb-deploy/public/assets/*.js` - –∑–∞–º–µ–Ω–µ–Ω—ã API URL'—ã
- ‚úÖ `timeweb-deploy/update-frontend-urls.sh` - —Å–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- ‚úÖ `timeweb-deploy/current_api_url.txt` - –æ–±–Ω–æ–≤–ª–µ–Ω —Ç–µ–∫—É—â–∏–π API URL

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞
–ü–æ—Å–ª–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
1. –§—Ä–æ–Ω—Ç–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `http://194.87.226.56` –≤–º–µ—Å—Ç–æ `localhost:8000`
2. –û—à–∏–±–∫–∏ CORS –¥–æ–ª–∂–Ω—ã –∏—Å—á–µ–∑–Ω—É—Ç—å
3. API –∑–∞–ø—Ä–æ—Å—ã –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

## üìù –ü—Ä–∏–º–µ—á–∞–Ω–∏—è
- –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –≤ `timeweb-deploy/public_backup/`
- –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç —Ä–µ–∑–µ—Ä–≤–Ω—É—é –∫–æ–ø–∏—é –ø–µ—Ä–µ–¥ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω—ã –Ω–∞ GitHub –≤ –∫–æ–º–º–∏—Ç–µ `634e635`

## üÜò –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã –æ—Å—Ç–∞–ª–∏—Å—å
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ backend —Å–µ—Ä–≤–µ—Ä–∞
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ CORS –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –æ–±–Ω–æ–≤–ª–µ–Ω
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ backend —Å–µ—Ä–≤–µ—Ä 